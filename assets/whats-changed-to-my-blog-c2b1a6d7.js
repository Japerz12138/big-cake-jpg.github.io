import{_ as c}from"./ValaxyMain.vue_vue_type_style_index_0_lang-63ad827b.js";import{_ as h,c as u,w as t,o as p,a as m,b as e,d as a,e as s,r as l,f as g,p as _}from"./app-34753c71.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-1ba03a51.js";import"./YunCard.vue_vue_type_style_index_0_lang-045a3637.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-c174b489.js";const E=JSON.parse('{"title":"为了纯粹的快——来看看我对我的博客做了什么","description":"","frontmatter":{"layout":"post","title":"为了纯粹的快——来看看我对我的博客做了什么","date":"2023-03-02T19:23:08.000Z","updated":"2023-03-02T19:23:08.000Z","tags":["速度","静态博客","优化"],"categories":"报告","excerpt_type":"text","cover":"https://blog-api.lihaoyu.cn/images/posts/whats-changed-to-my-blog/cover.webp"},"headers":[{"level":2,"title":"服务器与 CDN","slug":"服务器与-cdn","link":"#服务器与-cdn","children":[]},{"level":2,"title":"框架","slug":"框架","link":"#框架","children":[]},{"level":2,"title":"图床","slug":"图床","link":"#图床","children":[]}],"relativePath":"pages/posts/whats-changed-to-my-blog.md","path":"/home/runner/work/big-cake-jpg.github.io/big-cake-jpg.github.io/pages/posts/whats-changed-to-my-blog.md","lastUpdated":1678548740000}'),r=JSON.parse('{"title":"为了纯粹的快——来看看我对我的博客做了什么","description":"","frontmatter":{"layout":"post","title":"为了纯粹的快——来看看我对我的博客做了什么","date":"2023-03-02T19:23:08.000Z","updated":"2023-03-02T19:23:08.000Z","tags":["速度","静态博客","优化"],"categories":"报告","excerpt_type":"text","cover":"https://blog-api.lihaoyu.cn/images/posts/whats-changed-to-my-blog/cover.webp"},"headers":[{"level":2,"title":"服务器与 CDN","slug":"服务器与-cdn","link":"#服务器与-cdn","children":[]},{"level":2,"title":"框架","slug":"框架","link":"#框架","children":[]},{"level":2,"title":"图床","slug":"图床","link":"#图床","children":[]}],"relativePath":"pages/posts/whats-changed-to-my-blog.md","path":"/home/runner/work/big-cake-jpg.github.io/big-cake-jpg.github.io/pages/posts/whats-changed-to-my-blog.md","lastUpdated":1678548740000}'),f={name:"pages/posts/whats-changed-to-my-blog.md",data(){return{data:r,frontmatter:r.frontmatter}},setup(){_("pageData",r)}},b=e("p",null,"只为了更快：性能与美观优先，这几个月我对我的博客做出了一些大的更改。",-1),v={id:"服务器与-cdn",tabindex:"-1"},y=e("p",null,"如果我不说的话，你可能很难相信我的博客使用的是 Cloudflare CDN。",-1),k=e("p",null,[a("几个月前，我将我的博客挂在了 Vercel 上，后来"),e("s",null,"异想天开"),a("想要加入 HSTS Preload List 时发现 Vercel 的响应头不好改（指必须修改 "),e("code",null,"vercel.json"),a("），于是索性把整个域名的 Name Server 换到了 Cloudflare 上，速度也没那么不堪。")],-1),V=e("p",null,"后来在对 Cloudflare Pages 进行博客加载性能测试时，DevTools 显示的加载完成时长明显比 Vercel 的时间短很多，因此我在上周将博客迁移到了 Cloudflare Pages 上。这样，因为没有了回源延迟，加载速度快了很多。",-1),w=e("p",null,"在十年之约与开往的 QQ 群中，我将博客的链接发了出来请求大家访问一下，以便获得足够的反馈。基本上大多数反馈给我的信息就是：第一次加载 3 到 5 秒内完成，最长 6 秒；第二次加载由于有了缓存，所以基本保持在 1 - 3 秒内加载完成。这说明目前的访问体验较博客初期好了很多。",-1),$={id:"框架",tabindex:"-1"},C=e("p",null,[e("strong",null,"之前"),a("，我使用 Hexo 作为博客框架，使用 Yun 作为主题。")],-1),N=e("p",null,"Yun 主题的一个特点就是完全不需要依赖 jQuery，所有资源文件均使用公共 CDN，这从根本上加快了博客的加载速度，而我只需要解决图床的问题。",-1),x=e("p",null,"但是你可能会说：“以前？那现在呢？难道除了 Hexo 还有别的好用的静态博客生成器吗？”",-1),D=e("p",null,"是这样的。如果你把页面滚动到最底部，就可以在页脚上发现这样一行字：",-1),B=e("p",null,"我的博客现在使用 Valaxy 作为生成器，由于框架的开发使用的是 Vue 3、Vite 4、ESBuild，因此我的博客可以拥有优秀的页面切换体验、页面热更新、组件按需打包，同时可以任意使用 Vite 和 Vue 的插件。",-1),S=e("p",null,"Valaxy 的 Yun 主题也同样继承了 Hexo 版本的优良特性与功能，因此我没有花费太多精力就将博客迁移到了 Valaxy。",-1),T=e("p",null,[e("img",{src:"https://blog-api.lihaoyu.cn/images/posts/whats-changed-to-my-blog/commit-info.webp",alt:""})],-1),Y={id:"图床",tabindex:"-1"},j=e("p",null,"前几篇文章我一直使用的是 CSDN 和 米游社的图床，但是最终还是因为没有缓存的原因转向了自建。",-1),P=e("p",null,"目前的解决方案是使用 Vercel + Cloudflare 加载，也有以前的 Cloudflare R2 和 Backblaze B2 图床。",-1),H=e("p",null,"不过自建图床预计之后会长期使用。大概就是这样了吧。",-1);function J(o,Z,Q,q,i,A){const n=g,d=c;return p(),u(d,{frontmatter:i.frontmatter,data:i.data},{"main-content-md":t(()=>[b,m(" more "),e("h2",v,[a("服务器与 CDN "),s(n,{class:"header-anchor",href:"#服务器与-cdn","aria-hidden":"true"},{default:t(()=>[a("#")]),_:1})]),y,k,V,w,e("h2",$,[a("框架 "),s(n,{class:"header-anchor",href:"#框架","aria-hidden":"true"},{default:t(()=>[a("#")]),_:1})]),C,N,x,D,e("blockquote",null,[e("p",null,[a("由 "),s(n,{href:"https://github.com/YunYouJun/valaxy",target:"_blank",rel:"noreferrer"},{default:t(()=>[a("Valaxy")]),_:1}),a(" v0.14.15 驱动 | 主题 - "),s(n,{href:"https://github.com/YunYouJun/valaxy/tree/main/packages/valaxy-theme-yun",target:"_blank",rel:"noreferrer"},{default:t(()=>[a("Yun")]),_:1}),a(" v0.14.15")])]),B,S,T,e("h2",Y,[a("图床 "),s(n,{class:"header-anchor",href:"#图床","aria-hidden":"true"},{default:t(()=>[a("#")]),_:1})]),e("blockquote",null,[e("p",null,[s(n,{href:"https://blog-api.lihaoyu.cn",target:"_blank",rel:"noreferrer"},{default:t(()=>[a("晓雨's Blog API")]),_:1})])]),j,P,H]),"main-header":t(()=>[l(o.$slots,"main-header")]),"main-header-after":t(()=>[l(o.$slots,"main-header-after")]),"main-nav":t(()=>[l(o.$slots,"main-nav")]),"main-content":t(()=>[l(o.$slots,"main-content")]),"main-content-after":t(()=>[l(o.$slots,"main-content-after")]),"main-nav-before":t(()=>[l(o.$slots,"main-nav-before")]),"main-nav-after":t(()=>[l(o.$slots,"main-nav-after")]),comment:t(()=>[l(o.$slots,"comment")]),footer:t(()=>[l(o.$slots,"footer")]),aside:t(()=>[l(o.$slots,"aside")]),"aside-custom":t(()=>[l(o.$slots,"aside-custom")]),default:t(()=>[l(o.$slots,"default")]),_:3},8,["frontmatter","data"])}const I=h(f,[["render",J]]);export{E as __pageData,I as default};
